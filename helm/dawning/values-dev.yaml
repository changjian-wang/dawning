# =============================================
# Dawning Gateway - 开发环境配置
# =============================================
# 使用: helm install dawning ./helm/dawning -f ./helm/dawning/values-dev.yaml

global:
  namespace: dawning-dev
  environment: development

# 开发环境只需要1个副本
identityApi:
  replicaCount: 1
  env:
    ASPNETCORE_ENVIRONMENT: Development
  resources:
    requests:
      cpu: 50m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi

gatewayApi:
  replicaCount: 1
  env:
    ASPNETCORE_ENVIRONMENT: Development
  resources:
    requests:
      cpu: 50m
      memory: 128Mi
    limits:
      cpu: 200m
      memory: 256Mi

adminFrontend:
  replicaCount: 1
  resources:
    requests:
      cpu: 25m
      memory: 32Mi
    limits:
      cpu: 100m
      memory: 64Mi

# 开发环境使用 NodePort 便于访问
ingress:
  enabled: false

# 可以通过 NodePort 直接访问
# kubectl port-forward svc/identity-api 5001:5001
# kubectl port-forward svc/admin-frontend 8080:80

# 较小的存储
mysql:
  enabled: true
  primary:
    persistence:
      size: 2Gi

redis:
  enabled: true
  master:
    persistence:
      size: 1Gi

kafka:
  enabled: true
  controller:
    replicaCount: 1
  persistence:
    size: 2Gi
